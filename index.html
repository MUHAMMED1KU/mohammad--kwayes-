<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸŒ™ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ</title>

<style>
body{direction:rtl;font-family:Tahoma;background:#0f2027;color:white;text-align:center}
.box{background:white;color:black;padding:15px;margin:15px auto;max-width:520px;border-radius:12px}
input,button{padding:8px;margin:5px}
button{background:#27ae60;color:white;border:none;border-radius:6px;cursor:pointer}
.progress{background:#ddd;border-radius:20px;overflow:hidden;margin:5px 0}
.bar{height:18px;background:#27ae60}
.small{font-size:13px;color:#444}
</style>
</head>

<body>

<h1>ğŸŒ™ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ</h1>
<p>ğŸ¤ Ù„Ø§ ØªÙ†Ø³Ù Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù„ÙˆØ§Ù„Ø¯ÙŠÙƒ</p>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div class="box">
  <input id="name" placeholder="Ø§Ø³Ù…Ùƒ">
  <input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
<div id="panel" class="box" style="display:none">
  <h3 id="welcome"></h3>

  <b>ğŸ“– Ù‚Ø±Ø¢Ù†Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ</b><br>
  ØµÙØ­Ø§Øª: <span id="mypages">0</span> |
  Ø£Ø¬Ø²Ø§Ø¡: <span id="myjuz">0</span><br>
  <button onclick="addPersonal(1)">+ ØµÙØ­Ø©</button>
  <button onclick="addPersonal(5)">+5 ØµÙØ­Ø§Øª</button>

  <hr>

  <b>ğŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ</b><br>
  ØµÙØ­Ø§Øª: <span id="famQ">0</span> |
  Ø£Ø¬Ø²Ø§Ø¡: <span id="famJ">0</span><br>
  <button id="famBtn" onclick="addFamilyQuran()">+ ØµÙØ­Ø© (Ù…Ø­Ù…Ø¯ ÙÙ‚Ø·)</button>

  <hr>

  <b>ğŸ¤² Ø§Ù„ØªÙ‚Ø¯Ù‘Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ</b><br>
  Ø£Ø°ÙƒØ§Ø±: <span id="azkar">0</span>
  <button onclick="addFam('azkar')">+</button><br>
  ØµØ¯Ù‚Ø©: <span id="sadaqa">0</span>
  <button onclick="addFam('sadaqa')">+</button>
</div>

<!-- Ù…Ù† Ø§Ù„Ø®Ø§Ø±Ø¬ -->
<div class="box">
  <h3>ğŸ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ â€“ Ø§Ù„Ù‚Ø±Ø¢Ù†</h3>
  <div id="list"></div>
</div>

<script>
const users={
 "Ù‡ÙŠØ«Ù… ÙƒÙˆÙŠØ³":{pass:"1111",pages:0},
 "Ù…ØµØ·ÙÙ‰ ÙƒÙˆÙŠØ³":{pass:"2222",pages:0},
 "Ù…Ø­Ù…Ø¯":{pass:"1234",pages:0},
 "Ø·Ù„Ø§Ù„ ÙƒÙˆÙŠØ³":{pass:"3333",pages:0},
 "Ø¬ÙˆØ¯ÙŠ ÙƒÙˆÙŠØ³":{pass:"4444",pages:0},
 "Ø§Ø­Ù…Ø¯ ÙƒÙˆÙŠØ³":{pass:"5555",pages:0},
 "Ù…Ù†Ø§Ù„ Ø±Ø³ØªÙ…":{pass:"6666",pages:0},
 "Ù…ÙŠØ§Ø³ Ø¹Ù„ÙŠ":{pass:"7777",pages:0}
};

if(!localStorage.data){
  localStorage.data=JSON.stringify({
    users:users,
    family:{quran:0,azkar:0,sadaqa:0}
  });
}

let current="";

function login(){
  const n=name.value.trim(),p=pass.value;
  const db=JSON.parse(localStorage.data);

  if(!db.users[n]) return alert("Ø§Ù„Ø§Ø³Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯");
  if(db.users[n].pass!==p) return alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø·Ø£");

  current=n;
  panel.style.display="block";
  welcome.innerText="Ø£Ù‡Ù„Ù‹Ø§ "+n;
  famBtn.disabled = n!=="Ù…Ø­Ù…Ø¯";
  updateUI();
}

function addPersonal(x){
  const db=JSON.parse(localStorage.data);
  db.users[current].pages+=x;
  localStorage.data=JSON.stringify(db);
  updateUI(); drawList();
}

function addFamilyQuran(){
  const db=JSON.parse(localStorage.data);
  db.family.quran++;
  localStorage.data=JSON.stringify(db);
  updateUI();
}

function addFam(t){
  const db=JSON.parse(localStorage.data);
  db.family[t]++;
  localStorage.data=JSON.stringify(db);
  updateUI();
}

function updateUI(){
  const db=JSON.parse(localStorage.data);
  const u=db.users[current];
  mypages.innerText=u.pages;
  myjuz.innerText=Math.floor(u.pages/20);

  famQ.innerText=db.family.quran;
  famJ.innerText=Math.floor(db.family.quran/20);
  azkar.innerText=db.family.azkar;
  sadaqa.innerText=db.family.sadaqa;
}

function drawList(){
  const db=JSON.parse(localStorage.data);
  let h="";
  for(let n in db.users){
    const p=db.users[n].pages;
    const percent=Math.min(p/604*100,100);
    h+=`<div class="small">${n}</div>
    <div class="progress"><div class="bar" style="width:${percent}%"></div></div>`;
  }
  list.innerHTML=h;
}
drawList();
</script>

</body>
</html>
